{"version":3,"file":"verovio-worker-dev.9a914a6b.js","sources":["../src/js/worker/verovio-worker-dev.js"],"sourcesContent":["\n\nself.methods = null;\n\n\n/////////////////////////////\n//\n// WASM installation variable:\n//\n\nself.Module = {\n\tonRuntimeInitialized: function() {\n\t\t\tmethods = new verovioCalls();\n\t\t\tmethods.vrvToolkit = new verovio.toolkit();\n\t\t\tconsole.log(`Verovio (WASM) ${methods.vrvToolkit.getVersion()} loaded`);\n\t\t\tpostMessage({method: \"ready\"});\n\t\t// postMessage([\"loaded\", false, {}]);\n\t}\n};\n\n//\n// WASM\n//\n//////////////////////////////\n\n\nimportScripts(\"/scripts/local/verovio-toolkit-wasm.js\");\nimportScripts(\"/scripts/local/humdrumValidator.js\");\nimportScripts(\"/scripts/local/verovio-calls.js\");\n\n\n//////////////////////////////\n//\n// resolve --\n//\n\nfunction resolve(data, result) {\n\tpostMessage({\n\t\tmethod: data.method,\n\t\tidx: data.idx,\n\t\tresult: result,\n\t\tsuccess: true\n\t});\n};\n\n\n\n//////////////////////////////\n//\n// reject --\n//\n\nfunction reject(data, result) {\n\tpostMessage({\n\t\tmethod: data.method,\n\t\tidx: data.idx,\n\t\tresult: result,\n\t\tsuccess: false\n\t});\n};\n\n\n//////////////////////////////\n//\n// message event listener --\n//\n\naddEventListener(\"message\", function(oEvent) {\n\ttry {\n\t\tresolve(oEvent.data, methods[oEvent.data.method].apply(methods, oEvent.data.args));\n\t} catch(err) {\n\t\treject(oEvent.data, err);\n\t};\n});\n\n\n// non-wasm:\n// methods = new verovioCalls();\n// methods.vrvToolkit = new verovio.toolkit();\n// postMessage({method: \"ready\"});\n\n\n\n"],"names":["resolve","data","result","reject","oEvent","err"],"mappings":"yBAEA,KAAK,QAAU,KAQf,KAAK,OAAS,CACb,qBAAsB,UAAW,CAC/B,QAAU,IAAI,aACd,QAAQ,WAAa,IAAI,QAAQ,QACjC,QAAQ,IAAI,kBAAkB,QAAQ,WAAW,WAAU,UAAW,EACtE,YAAY,CAAC,OAAQ,OAAO,CAAC,CAE9B,CACF,EAQA,cAAc,wCAAwC,EACtD,cAAc,oCAAoC,EAClD,cAAc,iCAAiC,EAQ/C,SAASA,EAAQC,EAAMC,EAAQ,CAC9B,YAAY,CACX,OAAQD,EAAK,OACb,IAAKA,EAAK,IACV,OAAQC,EACR,QAAS,EACX,CAAE,CACF,CASA,SAASC,EAAOF,EAAMC,EAAQ,CAC7B,YAAY,CACX,OAAQD,EAAK,OACb,IAAKA,EAAK,IACV,OAAQC,EACR,QAAS,EACX,CAAE,CACF,CAQA,iBAAiB,UAAW,SAASE,EAAQ,CAC5C,GAAI,CACHJ,EAAQI,EAAO,KAAM,QAAQA,EAAO,KAAK,QAAQ,MAAM,QAASA,EAAO,KAAK,IAAI,CAAC,CACjF,OAAOC,EAAN,CACDF,EAAOC,EAAO,KAAMC,CAAG,CAEzB,CAAA,CAAC"}